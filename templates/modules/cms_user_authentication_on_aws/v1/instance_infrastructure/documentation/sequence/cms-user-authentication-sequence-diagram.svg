<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1569px" preserveAspectRatio="none" style="width:1202px;height:1569px;background:#FFFFFF;" version="1.1" viewBox="0 0 1202 1569" width="1202px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1557.7891" style="stroke:#232F3E;stroke-width:0.5;" width="331.5" x="95" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="82" x="219.75" y="18.0669">API Service</text><rect fill="#DDDDDD" height="1557.7891" style="stroke:#232F3E;stroke-width:0.5;" width="575" x="428.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="203" x="614.5" y="18.0669">CMS Authentication Module</text><rect fill="#DDDDDD" height="1557.7891" style="stroke:#232F3E;stroke-width:0.5;" width="148" x="1005.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1058.5" y="18.0669">Cloud</text><rect fill="#232F3E" height="400.5625" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="168" y="1005.6328"/><rect fill="#D76511" height="303.6563" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="336" y="1033.6016"/><rect fill="#D76511" height="481.4375" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="704.5" y="457.2578"/><rect fill="#D76511" height="247.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="901.5" y="663.0078"/><rect fill="#D76511" height="247.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="901.5" y="1061.5703"/><rect fill="#232F3E" height="181.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="1074.5" y="194.6328"/><rect fill="#232F3E" height="68.9375" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="1074.5" y="527.1328"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="24" x2="24" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="173" x2="173" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="340.5" x2="340.5" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="709.5" x2="709.5" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="906.5" x2="906.5" y1="136.7266" y2="1449.1953"/><line style="stroke:#232F3E;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1079.5" x2="1079.5" y1="136.7266" y2="1449.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="133.4248">User</text><ellipse cx="24" cy="68.9297" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,76.9297 L24,103.9297 M11,84.9297 L37,84.9297 M24,103.9297 L11,118.9297 M24,103.9297 L37,118.9297 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="5" y="1461.1904">User</text><ellipse cx="24" cy="1472.9922" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M24,1480.9922 L24,1507.9922 M11,1488.9922 L37,1488.9922 M24,1507.9922 L11,1522.9922 M24,1507.9922 L37,1522.9922 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="148" x="99" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="125.5" y="45.1279">«Service API»</text><image height="64" width="64" x="141" xlink:href="data:image/png;base64,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" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="106" y="125.4248">External Service API</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="148" x="99" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="125.5" y="1468.1904">«Service API»</text><image height="64" width="64" x="141" xlink:href="data:image/png;base64,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" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="106" y="1548.4873">External Service API</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="163" x="259.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="272.5" y="45.1279">«Lambda Function»</text><image height="64" width="64" x="309" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAJ1ElEQVR4XuXZeVCU5x0H8Ccx8b4JRDFNU8eZaNNWO85UZ9o4k840JtFxNNZctUZTbyFGWhWPoOAJHqBySBQwVaOh1ViNFmOsCaRUEFHxiAsILLALu8uyN3uy377P83Ltviu7y7usf+w7851xltfdfT/v+/6e3+9dUr92KFjWDYVs/RAWeWxbNgxBw4bBaNg4GI2b+Cg20wyC4tNBUNLEDYIqbiBUWwaiaWtb4gdCHT8A6oQBaKbZNgCa7TT9odnRH1qanf2h29kPul39oKfZzSWxHwyJfWFI6gsjzZ6+MNHsfRYt+9qy/1mYaZKfgYUm5RlYD9D0gfVgH9hoDvWBnSb1aTho0rikP41Wmoyn4KQ5/BSQSUDq2gFCFIHU/W0oQhmB1P51GEIZgQGEMgKRxvAAoYrAAEIZgUjX8AChikBq1gxHKCOQmk+GQyxCY3wktLmLofvnMj5naJay6GnO0iyB/qslMLTn3BIYuehPznqiCKR6NQcgEkF3cSPEbLqsaU8MgQGIRdBfTmAHovliAdRH3kTzUT6aLJo3oMnujDZ7OrQ506E7Np07+3PgdFhgffj1E7sdSNXHPIAYhHYAReIEv2uC+WY29z+d0GZMfiIIHMAIiEXQX97GA+ye4Hdh1Bz8JXf8DljKTj+RwkiqoimAOAQXgB6sDpa7uUCrncN4JegI5BEFEImgawNo3NkG4CeCJv037DYwlxwN+hJJHkWNgFgEXV4ngPsS6SuCVXIJTrsZzXvHBhWBVEaNhFgE3eXtDKChDaAnCNojv2fv0fLflKA2S6Ry1UiIRegA2DFBsET6g2CrzofTYoA6cUzQEEjFSg5AJIIujwew1hTBUlkAyyOafBYry/dQHpjqFUH7+Sz2PqZr24PWNjMAsQiKQ69zB57PH3x7uiA47RaYH1z06Uqwy0rhNKnRtCM8KAikYgUPIBbBvTB27RNMRVyz43RCmTLVK4Lu1AfsKjDmxQZlgCLlK8LQ2wiKpF+xdb7l9j+814S4IXCoJGjVydCUMKLXEUj58jAEA6HlFm12HFDumegVgU6RdNOfj+71UZpIKEAQEBT7p7LbwFR8zPvqsGU4HBopHOoqKLcO7VUEIlkWhmAhmO9/zbX9Vq5hGu8VQX8hhl0FutyFggEqkAjk4VIOIEgIyoOv8QWuIM1rn6CMD0erQQF7410OYHCvIXAAz6E3EOSJU2CW/AeyhAkuCJbya3BaTWhI+JlXBMM3cQxMe2KeYIAKFAJ5uIQCBB7BVHaefXlDYZbLlaDKnMkXuKt7vHaMim2RcJq1sNVeF8wOgUIgP1KAACPIdnPTnbOVVX3aBMkSxrsgWKXFaG3RQh73glcE43d7GBh9stQbCOTHxc8h0AjGG6fZwTedXMaf7e/TXWqCKudd9rru0lavs4Ny50tw2kywVl4VzA6BQCAPFocjkAh1CRO5k2+H6dZZdjuYJfSeb0F93LhOhLXDYJPf44qcErKNz3tFMBWmMzB1xrSAI5AHfwlHIBH0P/BtryzpVXY7NKbO4M/21WSX1UF9YhF7XXturUvb7AlBmTieLZ+W+/8SzA5iEch9ChAgBOkm7ovaLDDdu+xSEyyPCtHKjbl1m1/qRFg7EnZVJdfw1EMWG+YVoaXkOKsrTSmTA4pA7n8UjkAhaK+msrMqT57uUhMUGW/zZ/vybpc+QZ0bzV5vzl0lGKDcEVT7fs0AzKUnBQOUGARyfxEHEACE6vXjuLNsREt5gcfCaJGWcJVfg7oNL3Qg1K0Lh0Mrg11Zwf17uFcEc9lZwGGDau/PA4ZA7i2KQCAQmi8l8Wc/dY6gMLKr4LP32N81FxNcOkbNufXsdfXxhYIByh1Bdeh3/Dzxv0zBANVTBHJvYQTEIjyKeREOYzMsNaUeCyND+GQErPVlcBhUkK6P7ECojR3FrQYq2GRlbHXwhmCRXOHqTAsUO8cGBIHcpQAiEZrObuXPfuZ8QWHsiqDMWcjf8+c2ubTN9Kqgm+roO4IByh2hKfMNtq/xu/2CAaonCOTuhxEQg1ARHQmHTgGr7AEqVoUJCqMLwuqRsDVKuP0bURMT1oFQt/EnaDXrYKm+LhigPCFYqwvhtOihiB8jGoGUUQARCIpT69gZachZJiiMnhDMlfySWBMT4TI76L7dx95HkT7DK4I6Zy7bV/9NgmCA8heBlC14Hj1FkKwYBZu6FjZlNcpXRggKozuCPPlN9sW136YIBqj6T8exjpFOkJ5GaXcEm/wOWo0qNMRFiEIgd/7MAfQQoeFYFDugxhNrBIXREwJtkGijJN38sssS2Y6gz8/gr6bk17wiNJ/8kO2ru7BOMED5g8AAeoSwNALWhgrYNXJIVo4WFEZ3hNpd09gSpivIEiyR7Qj18a+wltdUduGxD1U6EGKHsU6S9hb8bw9tqcqH5vg8nxHInfk8gL8I9Yc/YmdA8eVmQWH0hGAoOcOGJOmWSYLVoSuC4frfWccnT5riFUF9bF6XH1/40M1UnO3zlUBuU4AeIJildE1XQxL1oqAwuiPUbJnMxmNDca7HwtgVoX4Hv6+x5HS3j9fcawLfLQ7lAYqyfb4dyO0/jYK/CNKU99kHKb/aJSiMnhB0P3zOLn/p9t8KCqMnBGPpGfY7gmz7RP8QugL4WBPILQrgJ4Kpooi79/SQRI8TFEZ3hKrYX8Bpt8J4598eC6MnBFkS3/LqC7O9Pmh1QYjtBPC1MJJbH4yCPwjVu2ezD1FdPCAsjB4Qmq+ksf1rk6YLCmN3CKZ7eexxWt2W8b4jdAXoMkp3h0BK3+cA/EAw3L2GVm69lqyeICiM7ggVa/gJ0SQp8FgYu0OQJ/+BHYzu2iGfHrmzrB/mCuADAgcwGr4iVG59nX2A+soRj4XRHaHpAj8h1qXMFRRGXxDM5fkMsHbTWN8Q1nUCdB2gukMgpe9RAN8QdCUXucvShocxkwSF0R1BEvVTNiGaa255LIy+IDSkzWEHpMlLFPzu4BGhDcB4Pcd1degGgdykAD4gSGJfZeuz8WEhqnbNRhVXC2g9qE6cjZr2JLVlz2yo8/inQ7KMhYLC6A+CRXoTraZmNKTOQmPqTDSmzYQibUZn0vkoM96C8vBbHQCCJfIxCOTmu6PhC4Li/AH25v5sVrmE6xjDBYXRH4TGI/Pd39brZijIEC6Rj0EgJRTAB4QHH09CbWY0S91nXI50pp7maDRkR6P4ZPGp3DhFUBh7gqDIWgDliRVQneTTRPMFzXI0neKjbs/p5ZDHjxMukY9BICXvRMJXBPea4L5EdlcTxCK4N0s+1QQfEMgNChDCCOTGvEiEMgK58UcOIIQRSDEFCGEEUjx3DEIZgRRRgBBGIEVvj0EoI5DrFCCEEf4P7m1UsIJQd8kAAAAASUVORK5CYII=" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="266.5" y="125.4248">Authorization Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="163" x="259.5" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="272.5" y="1468.1904">«Lambda Function»</text><image height="64" width="64" x="309" xlink:href="data:image/png;base64,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" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="266.5" y="1548.4873">Authorization Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="173" x="432.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="483" y="45.1279">«Cognito»</text><image height="64" width="64" x="487" xlink:href="data:image/png;base64,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" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="439.5" y="125.4248">CMS Cognito User Pool</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="173" x="432.5" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="72" x="483" y="1468.1904">«Cognito»</text><image height="64" width="64" x="487" xlink:href="data:image/png;base64,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" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="439.5" y="1548.4873">CMS Cognito User Pool</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="188" x="615.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="641" y="45.1279">«Lambda Function»</text><image height="64" width="64" x="677.5" xlink:href="data:image/png;base64,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" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="622.5" y="125.4248">Token Exchange Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="188" x="615.5" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="641" y="1468.1904">«Lambda Function»</text><image height="64" width="64" x="677.5" xlink:href="data:image/png;base64,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" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="622.5" y="1548.4873">Token Exchange Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="186" x="813.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="838" y="45.1279">«Lambda Function»</text><image height="64" width="64" x="874.5" xlink:href="data:image/png;base64,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" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="820.5" y="125.4248">Token Validation Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="186" x="813.5" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="137" x="838" y="1468.1904">«Lambda Function»</text><image height="64" width="64" x="874.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAJ1ElEQVR4XuXZeVCU5x0H8Ccx8b4JRDFNU8eZaNNWO85UZ9o4k840JtFxNNZctUZTbyFGWhWPoOAJHqBySBQwVaOh1ViNFmOsCaRUEFHxiAsILLALu8uyN3uy377P83Ltviu7y7usf+w7851xltfdfT/v+/6e3+9dUr92KFjWDYVs/RAWeWxbNgxBw4bBaNg4GI2b+Cg20wyC4tNBUNLEDYIqbiBUWwaiaWtb4gdCHT8A6oQBaKbZNgCa7TT9odnRH1qanf2h29kPul39oKfZzSWxHwyJfWFI6gsjzZ6+MNHsfRYt+9qy/1mYaZKfgYUm5RlYD9D0gfVgH9hoDvWBnSb1aTho0rikP41Wmoyn4KQ5/BSQSUDq2gFCFIHU/W0oQhmB1P51GEIZgQGEMgKRxvAAoYrAAEIZgUjX8AChikBq1gxHKCOQmk+GQyxCY3wktLmLofvnMj5naJay6GnO0iyB/qslMLTn3BIYuehPznqiCKR6NQcgEkF3cSPEbLqsaU8MgQGIRdBfTmAHovliAdRH3kTzUT6aLJo3oMnujDZ7OrQ506E7Np07+3PgdFhgffj1E7sdSNXHPIAYhHYAReIEv2uC+WY29z+d0GZMfiIIHMAIiEXQX97GA+ye4Hdh1Bz8JXf8DljKTj+RwkiqoimAOAQXgB6sDpa7uUCrncN4JegI5BEFEImgawNo3NkG4CeCJv037DYwlxwN+hJJHkWNgFgEXV4ngPsS6SuCVXIJTrsZzXvHBhWBVEaNhFgE3eXtDKChDaAnCNojv2fv0fLflKA2S6Ry1UiIRegA2DFBsET6g2CrzofTYoA6cUzQEEjFSg5AJIIujwew1hTBUlkAyyOafBYry/dQHpjqFUH7+Sz2PqZr24PWNjMAsQiKQ69zB57PH3x7uiA47RaYH1z06Uqwy0rhNKnRtCM8KAikYgUPIBbBvTB27RNMRVyz43RCmTLVK4Lu1AfsKjDmxQZlgCLlK8LQ2wiKpF+xdb7l9j+814S4IXCoJGjVydCUMKLXEUj58jAEA6HlFm12HFDumegVgU6RdNOfj+71UZpIKEAQEBT7p7LbwFR8zPvqsGU4HBopHOoqKLcO7VUEIlkWhmAhmO9/zbX9Vq5hGu8VQX8hhl0FutyFggEqkAjk4VIOIEgIyoOv8QWuIM1rn6CMD0erQQF7410OYHCvIXAAz6E3EOSJU2CW/AeyhAkuCJbya3BaTWhI+JlXBMM3cQxMe2KeYIAKFAJ5uIQCBB7BVHaefXlDYZbLlaDKnMkXuKt7vHaMim2RcJq1sNVeF8wOgUIgP1KAACPIdnPTnbOVVX3aBMkSxrsgWKXFaG3RQh73glcE43d7GBh9stQbCOTHxc8h0AjGG6fZwTedXMaf7e/TXWqCKudd9rru0lavs4Ny50tw2kywVl4VzA6BQCAPFocjkAh1CRO5k2+H6dZZdjuYJfSeb0F93LhOhLXDYJPf44qcErKNz3tFMBWmMzB1xrSAI5AHfwlHIBH0P/BtryzpVXY7NKbO4M/21WSX1UF9YhF7XXturUvb7AlBmTieLZ+W+/8SzA5iEch9ChAgBOkm7ovaLDDdu+xSEyyPCtHKjbl1m1/qRFg7EnZVJdfw1EMWG+YVoaXkOKsrTSmTA4pA7n8UjkAhaK+msrMqT57uUhMUGW/zZ/vybpc+QZ0bzV5vzl0lGKDcEVT7fs0AzKUnBQOUGARyfxEHEACE6vXjuLNsREt5gcfCaJGWcJVfg7oNL3Qg1K0Lh0Mrg11Zwf17uFcEc9lZwGGDau/PA4ZA7i2KQCAQmi8l8Wc/dY6gMLKr4LP32N81FxNcOkbNufXsdfXxhYIByh1Bdeh3/Dzxv0zBANVTBHJvYQTEIjyKeREOYzMsNaUeCyND+GQErPVlcBhUkK6P7ECojR3FrQYq2GRlbHXwhmCRXOHqTAsUO8cGBIHcpQAiEZrObuXPfuZ8QWHsiqDMWcjf8+c2ubTN9Kqgm+roO4IByh2hKfMNtq/xu/2CAaonCOTuhxEQg1ARHQmHTgGr7AEqVoUJCqMLwuqRsDVKuP0bURMT1oFQt/EnaDXrYKm+LhigPCFYqwvhtOihiB8jGoGUUQARCIpT69gZachZJiiMnhDMlfySWBMT4TI76L7dx95HkT7DK4I6Zy7bV/9NgmCA8heBlC14Hj1FkKwYBZu6FjZlNcpXRggKozuCPPlN9sW136YIBqj6T8exjpFOkJ5GaXcEm/wOWo0qNMRFiEIgd/7MAfQQoeFYFDugxhNrBIXREwJtkGijJN38sssS2Y6gz8/gr6bk17wiNJ/8kO2ru7BOMED5g8AAeoSwNALWhgrYNXJIVo4WFEZ3hNpd09gSpivIEiyR7Qj18a+wltdUduGxD1U6EGKHsU6S9hb8bw9tqcqH5vg8nxHInfk8gL8I9Yc/YmdA8eVmQWH0hGAoOcOGJOmWSYLVoSuC4frfWccnT5riFUF9bF6XH1/40M1UnO3zlUBuU4AeIJildE1XQxL1oqAwuiPUbJnMxmNDca7HwtgVoX4Hv6+x5HS3j9fcawLfLQ7lAYqyfb4dyO0/jYK/CNKU99kHKb/aJSiMnhB0P3zOLn/p9t8KCqMnBGPpGfY7gmz7RP8QugL4WBPILQrgJ4Kpooi79/SQRI8TFEZ3hKrYX8Bpt8J4598eC6MnBFkS3/LqC7O9Pmh1QYjtBPC1MJJbH4yCPwjVu2ezD1FdPCAsjB4Qmq+ksf1rk6YLCmN3CKZ7eexxWt2W8b4jdAXoMkp3h0BK3+cA/EAw3L2GVm69lqyeICiM7ggVa/gJ0SQp8FgYu0OQJ/+BHYzu2iGfHrmzrB/mCuADAgcwGr4iVG59nX2A+soRj4XRHaHpAj8h1qXMFRRGXxDM5fkMsHbTWN8Q1nUCdB2gukMgpe9RAN8QdCUXucvShocxkwSF0R1BEvVTNiGaa255LIy+IDSkzWEHpMlLFPzu4BGhDcB4Pcd1degGgdykAD4gSGJfZeuz8WEhqnbNRhVXC2g9qE6cjZr2JLVlz2yo8/inQ7KMhYLC6A+CRXoTraZmNKTOQmPqTDSmzYQibUZn0vkoM96C8vBbHQCCJfIxCOTmu6PhC4Li/AH25v5sVrmE6xjDBYXRH4TGI/Pd39brZijIEC6Rj0EgJRTAB4QHH09CbWY0S91nXI50pp7maDRkR6P4ZPGp3DhFUBh7gqDIWgDliRVQneTTRPMFzXI0neKjbs/p5ZDHjxMukY9BICXvRMJXBPea4L5EdlcTxCK4N0s+1QQfEMgNChDCCOTGvEiEMgK58UcOIIQRSDEFCGEEUjx3DEIZgRRRgBBGIEVvj0EoI5DrFCCEEf4P7m1UsIJQd8kAAAAASUVORK5CYII=" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172" x="820.5" y="1548.4873">Token Validation Lambda</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="140" x="1009.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="1035.5" y="45.1279">«OAuth API»</text><image height="64" width="64" x="1047.5" xlink:href="data:image/png;base64,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" y="48.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1016.5" y="125.4248">Cognito OAuth API</text><rect fill="#FFFFFF" height="110.5938" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="140" x="1009.5" y="1448.1953"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="88" x="1035.5" y="1468.1904">«OAuth API»</text><image height="64" width="64" x="1047.5" xlink:href="data:image/png;base64,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" y="1471.4922"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1016.5" y="1548.4873">Cognito OAuth API</text><rect fill="#232F3E" height="400.5625" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="168" y="1005.6328"/><rect fill="#D76511" height="303.6563" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="336" y="1033.6016"/><rect fill="#D76511" height="481.4375" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="704.5" y="457.2578"/><rect fill="#D76511" height="247.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="901.5" y="663.0078"/><rect fill="#D76511" height="247.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="901.5" y="1061.5703"/><rect fill="#232F3E" height="181.7188" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="1074.5" y="194.6328"/><rect fill="#232F3E" height="68.9375" style="stroke:#232F3E;stroke-width:1.0;" width="10" x="1074.5" y="527.1328"/><polygon fill="#666666" points="1062.5,190.6328,1072.5,194.6328,1062.5,198.6328,1066.5,194.6328" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="24" x2="1068.5" y1="194.6328" y2="194.6328"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="148" x="475.25" y="161.8652">Call /authorize endpoint</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="88" x="503.25" y="175.834">with PKCE and</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="496.75" y="189.8027">AppClient details</text><polygon fill="#666666" points="35,260.5078,25,264.5078,35,268.5078,31,264.5078" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="29" x2="1073.5" y1="264.5078" y2="264.5078"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="495.25" y="217.7715">redirect to /login</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="85" x="504.75" y="231.7402">endpoint with</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101" x="496.75" y="245.709">appropriate URL</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="47" x="525.75" y="259.6777">queries</text><polygon fill="#666666" points="1062.5,302.4453,1072.5,306.4453,1062.5,310.4453,1066.5,306.4453" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="24" x2="1068.5" y1="306.4453" y2="306.4453"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="475.25" y="287.6465">Perform login with valid</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="498.25" y="301.6152">user credentials</text><polygon fill="#666666" points="530,344.3828,520,348.3828,530,352.3828,526,348.3828" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="524" x2="1073.5" y1="348.3828" y2="348.3828"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81" x="754.25" y="329.584">validate user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="761.75" y="343.5527">credentials</text><polygon fill="#666666" points="35,372.3516,25,376.3516,35,380.3516,31,376.3516" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="29" x2="1078.5" y1="376.3516" y2="376.3516"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="493.25" y="371.5215">authorization code</text><polygon fill="#666666" points="692.5,453.2578,702.5,457.2578,692.5,461.2578,696.5,457.2578" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="24" x2="698.5" y1="457.2578" y2="457.2578"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="61" x="331.75" y="424.4902">Exchange</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="140" x="292.25" y="438.459">authorization_code for</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="326.75" y="452.4277">user tokens</text><polygon fill="#666666" points="1062.5,523.1328,1072.5,527.1328,1062.5,531.1328,1066.5,527.1328" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="714.5" x2="1068.5" y1="527.1328" y2="527.1328"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="32" x="876.5" y="480.3965">Send</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="147" x="821" y="494.3652">authorization_code and</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="823.5" y="508.334">authentication details</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="117" x="836" y="522.3027">to /token endpoint</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="1084.5" x2="1126.5" y1="555.1016" y2="555.1016"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="1126.5" x2="1126.5" y1="555.1016" y2="568.1016"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="1085.5" x2="1126.5" y1="568.1016" y2="568.1016"/><polygon fill="#666666" points="1095.5,564.1016,1085.5,568.1016,1095.5,572.1016,1091.5,568.1016" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104" x="1091.5" y="550.2715">Validate request</text><polygon fill="#666666" points="725.5,592.0703,715.5,596.0703,725.5,600.0703,721.5,596.0703" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="719.5" x2="1078.5" y1="596.0703" y2="596.0703"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="855.5" y="591.2402">: user tokens</text><polygon fill="#666666" points="889.5,659.0078,899.5,663.0078,889.5,667.0078,893.5,663.0078" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="714.5" x2="895.5" y1="663.0078" y2="663.0078"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="142" x="735" y="644.209">Validate id and access</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="790" y="658.1777">token</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="718.9141" y2="718.9141"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="718.9141" y2="731.9141"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="731.9141" y2="731.9141"/><polygon fill="#666666" points="922.5,727.9141,912.5,731.9141,922.5,735.9141,918.5,731.9141" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="934.5" y="686.1465">Check KID against</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="918.5" y="700.1152">approved JWKs for user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="979" y="714.084">pool</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="759.8828" y2="759.8828"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="759.8828" y2="772.8828"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="772.8828" y2="772.8828"/><polygon fill="#666666" points="922.5,768.8828,912.5,772.8828,922.5,776.8828,918.5,772.8828" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="918.5" y="755.0527">Verify token signature</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="800.8516" y2="800.8516"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="800.8516" y2="813.8516"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="813.8516" y2="813.8516"/><polygon fill="#666666" points="922.5,809.8516,912.5,813.8516,922.5,817.8516,918.5,813.8516" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="918.5" y="796.0215">Check token expiration</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="869.7578" y2="869.7578"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="869.7578" y2="882.7578"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="882.7578" y2="882.7578"/><polygon fill="#666666" points="922.5,878.7578,912.5,882.7578,922.5,886.7578,918.5,882.7578" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="929.5" y="836.9902">Check token user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="918.5" y="850.959">claims (client, issuer,</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="937.5" y="864.9277">and token_use)</text><polygon fill="#666666" points="725.5,906.7266,715.5,910.7266,725.5,914.7266,721.5,910.7266" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="719.5" x2="905.5" y1="910.7266" y2="910.7266"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="762" y="905.8965">token validated</text><polygon fill="#666666" points="35,934.6953,25,938.6953,35,942.6953,31,938.6953" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="29" x2="708.5" y1="938.6953" y2="938.6953"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="75" x="329.25" y="933.8652">user tokens</text><polygon fill="#666666" points="156,1001.6328,166,1005.6328,156,1009.6328,160,1005.6328" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="24" x2="162" y1="1005.6328" y2="1005.6328"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="121" x="33.5" y="986.834">API call with access</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="46" y="1000.8027">token in header</text><polygon fill="#666666" points="324,1029.6016,334,1033.6016,324,1037.6016,328,1033.6016" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="178" x2="330" y1="1033.6016" y2="1033.6016"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="90" x="212" y="1028.7715">Authorize user</text><polygon fill="#666666" points="889.5,1057.5703,899.5,1061.5703,889.5,1065.5703,893.5,1061.5703" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;" x1="346" x2="895.5" y1="1061.5703" y2="1061.5703"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="139" x="554.25" y="1056.7402">Validate access token</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="1117.4766" y2="1117.4766"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="1117.4766" y2="1130.4766"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="1130.4766" y2="1130.4766"/><polygon fill="#666666" points="922.5,1126.4766,912.5,1130.4766,922.5,1134.4766,918.5,1130.4766" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="112" x="934.5" y="1084.709">Check KID against</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="918.5" y="1098.6777">approved JWKs for user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="979" y="1112.6465">pool</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="1158.4453" y2="1158.4453"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="1158.4453" y2="1171.4453"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="1171.4453" y2="1171.4453"/><polygon fill="#666666" points="922.5,1167.4453,912.5,1171.4453,922.5,1175.4453,918.5,1171.4453" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="918.5" y="1153.6152">Verify token signature</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="1199.4141" y2="1199.4141"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="1199.4141" y2="1212.4141"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="1212.4141" y2="1212.4141"/><polygon fill="#666666" points="922.5,1208.4141,912.5,1212.4141,922.5,1216.4141,918.5,1212.4141" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="918.5" y="1194.584">Check token expiration</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="911.5" x2="953.5" y1="1268.3203" y2="1268.3203"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="953.5" x2="953.5" y1="1268.3203" y2="1281.3203"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="912.5" x2="953.5" y1="1281.3203" y2="1281.3203"/><polygon fill="#666666" points="922.5,1277.3203,912.5,1281.3203,922.5,1285.3203,918.5,1281.3203" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="110" x="929.5" y="1235.5527">Check token user</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="918.5" y="1249.5215">claims (client, issuer,</text><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="937.5" y="1263.4902">and token_use)</text><polygon fill="#666666" points="357,1305.2891,347,1309.2891,357,1313.2891,353,1309.2891" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="351" x2="905.5" y1="1309.2891" y2="1309.2891"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="577.75" y="1304.459">token validated</text><polygon fill="#666666" points="189,1333.2578,179,1337.2578,189,1341.2578,185,1337.2578" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="183" x2="340" y1="1337.2578" y2="1337.2578"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="210.5" y="1332.4277">user authorized</text><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="178" x2="220" y1="1365.2266" y2="1365.2266"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="220" x2="220" y1="1365.2266" y2="1378.2266"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="179" x2="220" y1="1378.2266" y2="1378.2266"/><polygon fill="#666666" points="189,1374.2266,179,1378.2266,189,1382.2266,185,1378.2266" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="144" x="185" y="1360.3965">perform API operations</text><polygon fill="#666666" points="35,1402.1953,25,1406.1953,35,1410.1953,31,1406.1953" style="stroke:#666666;stroke-width:1.0;"/><line style="stroke:#666666;stroke-width:2.0;stroke-dasharray:2.0,2.0;" x1="29" x2="172" y1="1406.1953" y2="1406.1953"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="82" x="57.5" y="1401.3652">API response</text><!--MD5=[71fc2a3a71c19280a87a3bc615b616a6]
@startuml cms-user-authentication-sequence-diagram
'Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.
'SPDX-License-Identifier: MIT (For details, see https://github.com/awslabs/aws-icons-for-plantuml/blob/master/LICENSE)

!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v14.0/dist
!include AWSPuml/AWSCommon.puml
!include AWSPuml/SecurityIdentityCompliance/Cognito.puml
!include AWSPuml/Compute/Lambda.puml
!include AWSPuml/General/Internet.puml

'Comment out to use default PlantUML sequence formatting
skinparam participant {
    BackgroundColor AWS_BG_COLOR
    BorderColor AWS_BORDER_COLOR
}
skinparam sequence {
    ArrowThickness 2
    LifeLineBorderColor AWS_COLOR
    LifeLineBackgroundColor AWS_BORDER_COLOR
    BoxBorderColor AWS_COLOR
}

!$LAMBDA_COLOR = "#D76511"
!$COGNITO_COLOR = "#D6232C"
!$API_COLOR = "#232F3E"

actor User as user

box API Service
participant "$InternetIMG()\nExternal Service API" as service_api << Service API >>
participant "$LambdaIMG()\nAuthorization Lambda" as authorization_lambda << Lambda Function >>
endbox

box CMS Authentication Module
participant "$CognitoIMG()\nCMS Cognito User Pool" as cognito_user_pool << Cognito >>
participant "$LambdaIMG()\nToken Exchange Lambda" as token_exchange_lambda << Lambda Function >>
participant "$LambdaIMG()\nToken Validation Lambda" as token_validation_lambda << Lambda Function >>
endbox

box Cloud
participant "$InternetIMG()\nCognito OAuth API" as cognito_api << OAuth API >>
endbox

'Use shortcut syntax for activation with colored lifelines and return keyword
user - -> cognito_api++ $API_COLOR: Call /authorize endpoint with PKCE and AppClient details
user <- - cognito_api: redirect to /login endpoint with appropriate URL queries
user - -> cognito_api: Perform login with valid user credentials
cognito_api - -> cognito_user_pool: validate user credentials
return authorization code
|||
user -> token_exchange_lambda++ $LAMBDA_COLOR: Exchange authorization_code for user tokens
cognito_api <- token_exchange_lambda++ $API_COLOR: Send authorization_code and authentication details to /token endpoint
cognito_api - -> cognito_api: Validate request
return: user tokens
|||
token_exchange_lambda -> token_validation_lambda++ $LAMBDA_COLOR: Validate id and access token
token_validation_lambda - -> token_validation_lambda: Check KID against approved JWKs for user pool
token_validation_lambda - -> token_validation_lambda: Verify token signature
token_validation_lambda - -> token_validation_lambda: Check token expiration
token_validation_lambda - -> token_validation_lambda: Check token user claims (client, issuer, and token_use)
return token validated
return user tokens
|||
user -> service_api++ $API_COLOR: API call with access token in header
service_api -> authorization_lambda++ $LAMBDA_COLOR: Authorize user
authorization_lambda -> token_validation_lambda++ $LAMBDA_COLOR: Validate access token
token_validation_lambda - -> token_validation_lambda: Check KID against approved JWKs for user pool
token_validation_lambda - -> token_validation_lambda: Verify token signature
token_validation_lambda - -> token_validation_lambda: Check token expiration
token_validation_lambda - -> token_validation_lambda: Check token user claims (client, issuer, and token_use)
return token validated
return user authorized
service_api - -> service_api: perform API operations
return API response
|||

@enduml

@startuml cms-user-authentication-sequence-diagram






skinparam defaultTextAlignment center

skinparam PackageTitleAlignment Left

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}














sprite $Cognito [64x64/16z] {
xTG5jXin44JHwfQQQlyBpj7OCiF8uUHVCxnXYV-6Br-ywGvMVAn3T0S87oeqxk7m9zy7Tq5xqYTtaRrzuLvVwjLkG9Twc-zu99_q9e36-zxZcXzwXVO6-A6F
mBF-tkXjUov5ZXu0rjOFvP3eS_rB-r-Z6z3c_l_IdeewxjvdVK2JT0ZVzuP9PbzjVhDZ_T6cVkm3w66jkIkqbhS_8SaZWoxtWkA98J9VzdMmlOvUuBoG9FSS
l_7QHWzPcp_ID-Crjhv_v_pZFAimyoGpT_SJoMpdos1dJpjV30wqo4eJQEtjpnoQfxTIV23WV2QWZpzS4dWyKdCCJlPuJIbuA1amJk6a21-fy4UA_RpwW1GD
nHKg5tcEvrZhbSmsy_7Yoxr1PxxSDnHfq6DEGtA58qOrSwfmIM4BehW9TAxnow84nKKD_U8o2ovh4AzHTunydG4G0Q39ZvHtrMR9VyUNBzy
}


skinparam rectangle<<Cognito>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $Lambda [64x64/16z] {
xPO73iCm30CfEPRy_mzt3zQ0q38kTWwZomIlYyZu9mS7sJzHyni-2JdVuqs7o_aSH4CivGEkvnb7BkK3JSxN0dgU1VIyBh31_4QC1nsRa0-_Gz-R8OTCWox0
nAg0omBbzvPckmII_fHh0Z0jwhaauBVglbSW02HzR-gEEExLzBsbi2FNixv3W8-6Bi0d7zKf2V31H_M6JLXI5dq8mBGTUVnKIA0hGqQDiW3Nwm9SNmaOyeTw
FYuC6Iy5wwOoPDpWI7b93NFzBE0Nkb0_2LpZQ3_LEzzbA5_KSochpFcwFk7pajPvFiRrXK2Lzwc-4a0hwwkzPW7Ar_LMVB9rFc3nfDth2QFBIieJ3SIZdWM8
zlN2ESPC9tByXOE3Cm
}


skinparam rectangle<<Lambda>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $Internet [64x64/16z] {
xPNdOlCm203HHXBt_e_x3KTfo53tJr-RAGwmBHpvNKvEJaAkgbfp-9PS1rT6-R9U3O_bhnKVW6cE8XAB6j33v_KumOe_5eCPFrtTdih50VEp7GnGUKHXV4wl
qEMP3lh9xkrbfnEI9EszfVVy1aLUaM0E3aRS-yRSh2W0Pe1j4sIekyiAz2WI5MpVFjlSdVRMITl6c6m9ifZRgE4FFuNzDTvSXEbytPwd11etOpTlElS9CkHr
802pF6QT07exa_W4tXSrW9cydWrcYqvt2Rn_aDJ0ggjkqFnrj07g4ZZ_82X-9YQKEpqfY4lWV5Vosa41lTT5GLo2Pr-YmLeSVkpwV_tYYs9fvqj-gshugTTq
cAptE_yeUnsEAfxbBxP-NGUGe7pLzzybo3_nu_lr-xZ5wd1ZLTOa1T2zts1SVONkOmZkH6xyC61SVB-X_EskGjtt7oQC0lb1BszMC2nk_9N0ODxhqTtiYrjo
lalmDD39eFXmApj_9V1wwe3UnpFrIhpuJI_K58xcOpretNYi9yMuiUPlicWIneoI0TZy3eKssVi7Lzz6SxOZB4JMq-9XNNw7avEJlm
}


skinparam rectangle<<Internet>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}

skinparam participant {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
skinparam sequence {
    ArrowThickness 2
    LifeLineBorderColor #232F3E
    LifeLineBackgroundColor #FF9900
    BoxBorderColor #232F3E
}


actor User as user

box API Service
participant "<img data:image/png;base64,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{scale=1}>\nExternal Service API" as service_api << Service API >>
participant "<img data:image/png;base64,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{scale=1}>\nAuthorization Lambda" as authorization_lambda << Lambda Function >>
endbox

box CMS Authentication Module
participant "<img data:image/png;base64,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{scale=1}>\nCMS Cognito User Pool" as cognito_user_pool << Cognito >>
participant "<img data:image/png;base64,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{scale=1}>\nToken Exchange Lambda" as token_exchange_lambda << Lambda Function >>
participant "<img data:image/png;base64,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{scale=1}>\nToken Validation Lambda" as token_validation_lambda << Lambda Function >>
endbox

box Cloud
participant "<img data:image/png;base64,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{scale=1}>\nCognito OAuth API" as cognito_api << OAuth API >>
endbox

user - -> cognito_api++ #232F3E: Call /authorize endpoint with PKCE and AppClient details
user <- - cognito_api: redirect to /login endpoint with appropriate URL queries
user - -> cognito_api: Perform login with valid user credentials
cognito_api - -> cognito_user_pool: validate user credentials
return authorization code
|||
user -> token_exchange_lambda++ #D76511: Exchange authorization_code for user tokens
cognito_api <- token_exchange_lambda++ #232F3E: Send authorization_code and authentication details to /token endpoint
cognito_api - -> cognito_api: Validate request
return: user tokens
|||
token_exchange_lambda -> token_validation_lambda++ #D76511: Validate id and access token
token_validation_lambda - -> token_validation_lambda: Check KID against approved JWKs for user pool
token_validation_lambda - -> token_validation_lambda: Verify token signature
token_validation_lambda - -> token_validation_lambda: Check token expiration
token_validation_lambda - -> token_validation_lambda: Check token user claims (client, issuer, and token_use)
return token validated
return user tokens
|||
user -> service_api++ #232F3E: API call with access token in header
service_api -> authorization_lambda++ #D76511: Authorize user
authorization_lambda -> token_validation_lambda++ #D76511: Validate access token
token_validation_lambda - -> token_validation_lambda: Check KID against approved JWKs for user pool
token_validation_lambda - -> token_validation_lambda: Verify token signature
token_validation_lambda - -> token_validation_lambda: Check token expiration
token_validation_lambda - -> token_validation_lambda: Check token user claims (client, issuer, and token_use)
return token validated
return user authorized
service_api - -> service_api: perform API operations
return API response
|||

@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
